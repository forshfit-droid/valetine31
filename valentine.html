<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day ‚ù§Ô∏è</title>

    <!-- 1. Fonts: Playfair Display (Serif) & Outfit (Satoshi Alternative for clean Sans-Serif) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">

    <!-- 2. Tailwind CSS (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 3. GSAP (Animations) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

    <!-- 4. Three.js (3D Background) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- 5. Canvas Confetti (Finale) -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <!-- Custom Config & Styles -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Outfit"', 'sans-serif'], // Using Outfit as a modern Satoshi alternative
                    },
                    colors: {
                        dark: '#0c0a09',
                        brand: {
                            pink: '#ec4899',
                            purple: '#a855f7',
                            gold: '#f59e0b'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'blob': 'blob 10s infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Base Reset */
        body {
            background-color: #0c0a09;
            color: #f3f4f6;
            overflow-x: hidden;
            margin: 0;
            height: 100vh;
        }

        /* 1. Aurora Background Layers */
        .aurora-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -2;
            overflow: hidden;
            pointer-events: none;
        }
        .aurora-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.5;
            animation: blob 20s infinite alternate;
        }
        .blob-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: hsla(333, 70%, 55%, 0.4); }
        .blob-2 { bottom: -10%; right: -10%; width: 50vw; height: 50vw; background: hsla(282, 82%, 54%, 0.3); animation-delay: 2s; }
        .blob-3 { top: 40%; left: 40%; width: 40vw; height: 40vw; background: hsla(210, 89%, 60%, 0.3); animation-delay: 4s; }
        .blob-4 { bottom: 10%; left: 10%; width: 30vw; height: 30vw; background: hsla(35, 90%, 60%, 0.2); animation-delay: 6s; }

        /* 2. Glassmorphism Card Style */
        .glass-card {
            background: rgba(12, 10, 9, 0.65);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* 3. Typography Gradients */
        .text-gradient {
            background: linear-gradient(135deg, #fce7f3 0%, #ec4899 50%, #eef2ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* 4. Button Styles */
        .btn-primary {
            background: linear-gradient(90deg, #ec4899, #db2777);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(236, 72, 153, 0.5);
        }
        .btn-primary:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.8);
        }
        .btn-primary:active {
            transform: scale(0.98);
        }

        /* 5. Polaroid Effect */
        .polaroid-container {
            perspective: 1000px;
            display: inline-block;
        }
        .polaroid {
            background: white;
            padding: 1rem 1rem 2.5rem 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transform: rotate(-2deg);
            transition: transform 0.1s ease-out;
            transform-style: preserve-3d;
            border-radius: 4px;
        }
        
        /* 6. Utility for transitions */
        .step-container {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.95);
            transition: none; /* Handled by GSAP */
        }
        .step-container.active {
            opacity: 1;
            pointer-events: all;
            transform: scale(1);
        }
    </style>
</head>
<body class="antialiased selection:bg-pink-500 selection:text-white">

    <!-- Progress Bar -->
    <div class="fixed top-0 left-0 w-full h-1.5 bg-white/5 z-50">
        <div id="progress-bar" class="h-full w-0 bg-gradient-to-r from-pink-500 to-red-600 shadow-[0_0_10px_rgba(236,72,153,0.8)] transition-all duration-700 ease-out"></div>
    </div>

    <!-- Background Layers -->
    <div class="aurora-container">
        <div class="aurora-blob blob-1"></div>
        <div class="aurora-blob blob-2"></div>
        <div class="aurora-blob blob-3"></div>
        <div class="aurora-blob blob-4"></div>
    </div>
    
    <!-- Three.js Canvas Container -->
    <div id="canvas-container" class="fixed inset-0 -z-10 opacity-80"></div>

    <!-- Main Content Area -->
    <main class="relative w-full h-screen overflow-hidden flex items-center justify-center px-4">

        <!-- STEP 1: Welcome -->
        <div id="step-1" class="step-container active max-w-lg w-full">
            <div class="glass-card p-8 md:p-12 rounded-3xl text-center w-full relative overflow-hidden group">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-50"></div>
                
                <div class="mb-6 animate-pulse-slow">
                    <span class="text-7xl md:text-8xl filter drop-shadow-[0_0_15px_rgba(236,72,153,0.6)]">‚ù§Ô∏è</span>
                </div>
                
                <h1 class="text-4xl md:text-5xl font-serif font-bold mb-4 text-gradient leading-tight">
                    Hey Beautiful,
                </h1>
                
                <p class="text-gray-300 text-lg md:text-xl font-sans leading-relaxed mb-8 font-light">
                    Maine aapke liye ek chhoti si duniya banayi hai, sirf humare is special din par apke chehre par muskaan lane ke liye.
                </p>
                
                <button onclick="nextStep(2)" class="btn-primary px-8 py-3 rounded-full text-white font-bold tracking-wide text-lg shadow-lg">
                    Let's Begin
                </button>
            </div>
        </div>

        <!-- STEP 2: Core Message -->
        <div id="step-2" class="step-container max-w-2xl w-full">
            <div class="glass-card p-8 md:p-12 rounded-3xl text-center w-full">
                <div class="mb-4">
                    <span class="text-6xl filter drop-shadow-lg">üéâ</span>
                </div>

                <h2 class="text-3xl md:text-4xl font-serif font-bold mb-6 text-gradient">
                    Happy Valentine's Day Baccha!
                </h2>

                <div class="space-y-4 text-gray-300 text-base md:text-lg font-sans font-light leading-relaxed text-left md:text-center">
                    <p>
                        Happy Valentine‚Äôs Day, my love! Aaj ke din main bas yeh kehna chahta hoon ki aap meri life ka sabse khoobsurat hissa ho.
                    </p>
                    <p>
                        Aapki smile mere din ko bright bana deti hai aur aapka saath har moment ko special feel karata hai. Aapke saath har chhoti baat bhi ek pyari memory ban jaati hai. 
                    </p>
                    <p>
                        Thank you itna pyaar, care aur happiness meri life mein laane ke liye. Main hope karta hoon ki hum hamesha aise hi saath hasein, sapne dekhein aur ek doosre ka support bane rahein.
                    </p>
                    <p class="font-medium text-pink-200">
                        You mean the world to me, and I‚Äôm so lucky to have you. üíñ
                    </p>
                </div>

                <div class="mt-8">
                    <button onclick="nextStep(3)" class="btn-primary px-8 py-3 rounded-full text-white font-bold tracking-wide shadow-lg">
                        There's more...
                    </button>
                </div>
            </div>
        </div>

        <!-- STEP 3: Bento Grid (Reasons) -->
        <div id="step-3" class="step-container max-w-4xl w-full">
            <div class="glass-card p-6 md:p-10 rounded-3xl w-full flex flex-col h-[80vh] md:h-auto overflow-y-auto md:overflow-visible custom-scrollbar">
                
                <h2 class="text-3xl md:text-4xl font-serif font-bold mb-8 text-center text-gradient sticky top-0 md:static bg-transparent z-10">
                    A Few Things I Adore About You
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 w-full mb-8">
                    
                    <!-- Card 1 -->
                    <div class="col-span-1 md:col-span-2 bg-white/5 border border-white/10 p-6 rounded-2xl hover:bg-white/10 transition duration-300">
                        <div class="text-2xl mb-2">‚ú®</div>
                        <h3 class="text-xl font-bold text-pink-200 mb-2 font-serif">Your Unmatched Kindness</h3>
                        <p class="text-gray-300 text-sm md:text-base">
                            ‚ÄúJo sachchi care aap sabko dikhate ho, woh waqai bahut rare aur khoobsurat hai.‚Äù
                        </p>
                    </div>

                    <!-- Card 2 -->
                    <div class="col-span-1 bg-gradient-to-br from-pink-500/20 to-purple-500/20 border border-white/10 p-6 rounded-2xl hover:scale-[1.02] transition duration-300 flex flex-col justify-center items-center text-center">
                        <div class="text-4xl mb-2">üòä</div>
                        <h3 class="text-xl font-bold text-white mb-1 font-serif">That Smile</h3>
                        <p class="text-gray-300 text-sm">It's a work of art.</p>
                    </div>

                    <!-- Card 3 -->
                    <div class="col-span-1 md:col-span-3 bg-white/5 border border-white/10 p-6 rounded-2xl hover:bg-white/10 transition duration-300">
                        <div class="flex flex-col md:flex-row items-start md:items-center gap-4">
                            <div class="text-3xl">üåü</div>
                            <div>
                                <h3 class="text-xl font-bold text-pink-200 mb-2 font-serif">Your Radiant Spirit</h3>
                                <p class="text-gray-300 text-sm md:text-base">
                                    "Har din acha lagta hai, par tumhare saath har din Valentine jaisa lagta hai."
                                </p>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="text-center mt-auto md:mt-0 pt-4">
                    <button onclick="nextStep(4)" class="btn-primary px-8 py-3 rounded-full text-white font-bold tracking-wide shadow-lg">
                        Remember this?
                    </button>
                </div>
            </div>
        </div>

        <!-- STEP 4: Memory & Finale -->
        <div id="step-4" class="step-container max-w-xl w-full">
            <div class="glass-card p-6 md:p-10 rounded-3xl text-center w-full flex flex-col items-center">
                
                <h2 class="text-3xl md:text-4xl font-serif font-bold mb-8 text-gradient">
                    That One Time...
                </h2>

                <!-- Polaroid Wrapper -->
                <div class="polaroid-container mb-8 cursor-pointer group perspective-1000" id="polaroid-wrapper">
                    <div class="polaroid transition-transform duration-100 ease-out" id="polaroid-card">
                        <!-- IMAGE PLACEHOLDER: USER TO REPLACE -->
                        <div class="aspect-[3/4] w-64 md:w-72 bg-gray-200 overflow-hidden mb-4 relative">
                            <!-- REPLACE THE SRC BELOW WITH YOUR IMAGE URL -->
                            <img src="pic2.jpeg" 
                                 alt="Our Memory" 
                                 class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                            
                            <!-- Shine effect -->
                            <div class="absolute inset-0 bg-gradient-to-tr from-white/0 via-white/20 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
                        </div>
                        <div class="font-serif text-gray-800 text-xl font-medium tracking-wide">
                
                        </div>
                    </div>
                </div>

                <p class="text-gray-300 text-lg font-sans font-light mb-8 max-w-md">
                    Every moment with you feels like a scene from a movie I'd watch on repeat.
                </p>

                <!-- Hidden Final Message -->
                <div id="final-message" class="hidden mb-6">
                    <h2 class="text-4xl md:text-5xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-pink-500 to-purple-500 animate-pulse">
                        Happy valentine's day Baby ‚ù§Ô∏è
                    </h2>
                </div>

                <button id="celebrate-btn" onclick="celebrate()" class="btn-primary px-10 py-4 rounded-full text-white font-bold tracking-widest text-xl shadow-[0_0_20px_rgba(236,72,153,0.6)] animate-bounce">
                    Celebrate!
                </button>
            </div>
        </div>

    </main>

    <!-- SCRIPTS -->
    <script>
        // --- 1. STATE MANAGEMENT ---
        let currentStep = 1;
        const totalSteps = 4;
        
        function nextStep(stepNumber) {
            // Animate Out Current
            gsap.to(`#step-${currentStep}`, {
                duration: 0.5,
                opacity: 0,
                scale: 0.9,
                y: -20,
                ease: "power2.in",
                onComplete: () => {
                    document.getElementById(`step-${currentStep}`).classList.remove('active');
                    currentStep = stepNumber;
                    
                    // Update Progress Bar
                    const progress = ((currentStep - 1) / (totalSteps)) * 100; // Keep slightly incomplete until finale
                    document.getElementById('progress-bar').style.width = `${progress}%`;

                    // Animate In Next
                    const nextEl = document.getElementById(`step-${currentStep}`);
                    nextEl.classList.add('active');
                    
                    gsap.fromTo(nextEl, 
                        { opacity: 0, scale: 1.1, y: 20 },
                        { duration: 0.8, opacity: 1, scale: 1, y: 0, ease: "back.out(1.2)" }
                    );

                    // Stagger internal elements
                    gsap.fromTo(`#step-${currentStep} .glass-card > *`,
                        { y: 20, opacity: 0 },
                        { y: 0, opacity: 1, duration: 0.5, stagger: 0.1, delay: 0.2 }
                    );
                }
            });
        }

        // --- 2. POLAROID TILT EFFECT ---
        const polaroidWrapper = document.getElementById('polaroid-wrapper');
        const polaroidCard = document.getElementById('polaroid-card');

        polaroidWrapper.addEventListener('mousemove', (e) => {
            const rect = polaroidWrapper.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Calculate center
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            // Calculate rotation (max 15 deg)
            const rotateX = ((y - centerY) / centerY) * -10;
            const rotateY = ((x - centerX) / centerX) * 10;

            polaroidCard.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
        });

        polaroidWrapper.addEventListener('mouseleave', () => {
            polaroidCard.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) rotate(-2deg)`;
        });

        // --- 3. GRAND FINALE ---
        function celebrate() {
            const btn = document.getElementById('celebrate-btn');
            const finalMsg = document.getElementById('final-message');

            // 1. Hide Button
            gsap.to(btn, { 
                scale: 0, opacity: 0, duration: 0.5, ease: "back.in(1.7)" 
            });

            // 2. Show Message
            finalMsg.classList.remove('hidden');
            gsap.fromTo(finalMsg, 
                { opacity: 0, y: 50, scale: 0.5 },
                { opacity: 1, y: 0, scale: 1, duration: 1, ease: "elastic.out(1, 0.5)", delay: 0.5 }
            );

            // 3. Complete Progress Bar
            document.getElementById('progress-bar').style.width = '100%';

            // 4. Confetti Explosion
            const duration = 5 * 1000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 100 };

            function random(min, max) {
                return Math.random() * (max - min) + min;
            }

            // Burst 1: Bottom Corners
            confetti({ ...defaults, particleCount: 100, origin: { x: 0.1, y: 0.9 } });
            confetti({ ...defaults, particleCount: 100, origin: { x: 0.9, y: 0.9 } });

            // Continuous Interval
            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                
                // Random Confetti
                confetti(Object.assign({}, defaults, { 
                    particleCount, 
                    origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } 
                }));
                confetti(Object.assign({}, defaults, { 
                    particleCount, 
                    origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } 
                }));

                // Emoji Confetti
                confetti({
                    shapes: ['circle'], 
                    scalar: 2, // Larger for emojis if mapped, but here we use text shape if supported or just colors
                    colors: ['#ec4899', '#db2777'],
                    particleCount: 10,
                    origin: { x: 0.5, y: 0.5 },
                    startVelocity: 45
                });
            }, 250);

            // 5. 3D Hearts Fly Away
            flyAwayHearts();
        }

        // --- 4. THREE.JS BACKGROUND ---
        let scene, camera, renderer, hearts = [];
        let mouseX = 0, mouseY = 0;

        function initThree() {
            const container = document.getElementById('canvas-container');
            
            scene = new THREE.Scene();
            // No background color, it's transparent to see CSS aurora
            
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 30;

            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
            scene.add(ambientLight);

            const pointLight = new THREE.PointLight(0xffaec9, 1);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);

            // Heart Shape
            const heartShape = new THREE.Shape();
            heartShape.moveTo(25, 25);
            heartShape.bezierCurveTo(25, 25, 20, 0, 0, 0);
            heartShape.bezierCurveTo(-30, 0, -30, 35, -30, 35);
            heartShape.bezierCurveTo(-30, 55, -10, 77, 25, 95);
            heartShape.bezierCurveTo(60, 77, 80, 55, 80, 35);
            heartShape.bezierCurveTo(80, 35, 80, 0, 50, 0);
            heartShape.bezierCurveTo(35, 0, 25, 25, 25, 25);

            const extrudeSettings = { depth: 8, bevelEnabled: true, bevelSegments: 2, steps: 2, bevelSize: 1, bevelThickness: 1 };
            const geometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);

            // Create 25 Hearts
            for (let i = 0; i < 25; i++) {
                const material = new THREE.MeshPhongMaterial({ 
                    color: 0xff0055, // Red base
                    emissive: 0x440011,
                    specular: 0xffaaaa,
                    shininess: 50,
                    flatShading: false
                });

                const heart = new THREE.Mesh(geometry, material);
                
                // Random Positioning
                heart.position.x = (Math.random() - 0.5) * 80;
                heart.position.y = (Math.random() - 0.5) * 60;
                heart.position.z = (Math.random() - 0.5) * 40 - 10; // Depth

                // Scale down (shape is huge)
                const s = Math.random() * 0.03 + 0.01;
                heart.scale.set(s, s, s);

                // Rotate 180 deg to stand up + random tilt
                heart.rotation.z = Math.PI; 
                heart.rotation.x = Math.random() * Math.PI;
                heart.rotation.y = Math.random() * Math.PI;

                // Store user data for animation
                heart.userData = {
                    speedY: Math.random() * 0.02 + 0.005,
                    speedRot: Math.random() * 0.01,
                    initialY: heart.position.y,
                    offset: Math.random() * 100
                };

                scene.add(heart);
                hearts.push(heart);
            }

            animate();
        }

        function animate() {
            requestAnimationFrame(animate);

            const time = Date.now() * 0.001;

            hearts.forEach(heart => {
                // Gentle Floating
                heart.position.y += Math.sin(time + heart.userData.offset) * 0.005;
                heart.rotation.y += 0.005;
                heart.rotation.x += 0.002;
            });

            // Subtle Camera movement based on mouse
            camera.position.x += (mouseX - camera.position.x) * 0.05;
            camera.position.y += (-mouseY - camera.position.y) * 0.05;
            camera.lookAt(scene.position);

            renderer.render(scene, camera);
        }

        // Finale Animation for hearts
        function flyAwayHearts() {
            hearts.forEach((heart, i) => {
                gsap.to(heart.position, {
                    y: 100, // Fly up
                    x: heart.position.x + (Math.random() - 0.5) * 50, // Scatter X
                    duration: 3 + Math.random() * 2,
                    ease: "power2.in",
                    delay: Math.random() * 0.5
                });
                gsap.to(heart.rotation, {
                    x: heart.rotation.x + 5,
                    y: heart.rotation.y + 5,
                    duration: 4
                });
                gsap.to(heart.material, {
                    opacity: 0,
                    transparent: true,
                    duration: 3,
                    delay: 1
                });
            });
        }

        // Window Events
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX - window.innerWidth / 2) * 0.001;
            mouseY = (event.clientY - window.innerHeight / 2) * 0.001;
        });

        // Initialize
        initThree();

    </script>
</body>
</html>